storage:
  type: sqlite
  path: /data/gatus.db

security:
  basic:
    username: admin
    password-bcrypt-base64: ${GATUS_PASSWORD_ENCRYPTED}

metrics: true

alerting:
  email:
    from: gatus@${HOMELAB_APP_EXTERNAL_DOMAIN}
    host: smtp4dev.home
    port: 25
    to: notifications@${HOMELAB_APP_EXTERNAL_DOMAIN}
    client:
      insecure: true
    default-alert:
      enabled: true
      failure-threshold: 10
      success-threshold: 1
      send-on-resolved: true
      description: Gatus healthcheck failed
  ntfy:
    url: http://ntfy.home # TODO: Change to HTTPS once real certificates are implemented
    topic: gatus
    priority: 3
    token: ${NTFY_TOKEN}
    default-alert:
      enabled: true
      failure-threshold: 5
      success-threshold: 1
      send-on-resolved: true
      description: Gatus healthcheck failed

# connectivity:
#   checker:
#     target: 10.1.0.1
#     interval: 15s

default-alerts: &default-alerts
  alerts:
    - type: email

default-icmp: &default-icmp
  <<: *default-alerts
  interval: 2m
  conditions:
    - "[CONNECTED] == true"

default-tcp: &default-tcp
  <<: *default-alerts
  interval: 5m
  conditions:
    - "[CONNECTED] == true"

default-udp: &default-udp
  <<: *default-alerts
  interval: 5m
  conditions:
    - "[CONNECTED] == true"

default-dns: &default-dns
  <<: *default-alerts
  interval: 5m
  dns:
    query-name: "example.com"
    query-type: "A"
  conditions:
    - "[DNS_RCODE] == NOERROR"

default-http: &default-http
  <<: *default-alerts
  interval: 5m
  client:
    insecure: true
  conditions:
    - "[STATUS] == 200"

endpoints:
  ### Group: External DNS ###

  - <<: *default-icmp
    name: External DNS - Google 1
    group: External DNS
    url: icmp://8.8.8.8
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-icmp
    name: External DNS - Google 2
    group: External DNS
    url: icmp://8.8.4.4

  - <<: *default-icmp
    name: External DNS - Cloudflare
    group: External DNS
    url: icmp://1.1.1.1

  ### Group: Network equipment ###

  - <<: *default-icmp
    name: Router - TP-Link ER605
    group: Network equipment
    url: icmp://10.1.0.1
    alerts:
      - type: ntfy
      - type: email

  # Disconnected
  - <<: *default-icmp
    name: Router - UPC Router
    group: Network equipment
    url: icmp://192.168.0.1
    enabled: false

  - <<: *default-icmp
    name: WiFi AP - Unifi U6
    group: Network equipment
    url: icmp://10.1.0.2
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-icmp
    name: Smart switch - TP-Link SG108E
    group: Network equipment
    url: icmp://10.1.0.3

  - <<: *default-icmp
    name: Smart switch - TP-Link SG105E
    group: Network equipment
    url: icmp://10.1.0.4

  ### Group: Servers ###

  - <<: *default-icmp
    name: Odroid H3
    group: Servers
    url: icmp://10.1.4.8
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-icmp
    name: Raspberry Pi 3B
    group: Servers
    url: icmp://10.1.4.2
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-icmp
    name: Raspberry Pi 4B 2G
    group: Servers
    url: icmp://10.1.4.3
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-icmp
    name: Raspberry Pi 4B 4G
    group: Servers
    url: icmp://10.1.4.4
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-icmp
    name: Raspberry Pi Zero 2W 1
    group: Servers
    url: icmp://10.1.4.6
    alerts:
      - type: ntfy
      - type: email
    enabled: false # TODO: Reenable

  - <<: *default-icmp
    name: Raspberry Pi Zero 2W 2
    group: Servers
    url: icmp://10.1.4.7
    alerts:
      - type: ntfy
      - type: email
    enabled: false # TODO: Reenable

  ### Group: App - ActualBudget ###

  - <<: *default-icmp
    name: ActualBudget - ICMP
    group: App - ActualBudget
    url: icmp://actualbudget.home

  - <<: *default-http
    name: ActualBudget - HTTP
    group: App - ActualBudget
    url: http://actualbudget.home

  - <<: *default-http
    name: ActualBudget - HTTPS
    group: App - ActualBudget
    url: https://actualbudget.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: ActualBudget - Proxy prometheus metrics
    group: App - ActualBudget
    url: https://proxy-prometheus:${ACTUALBUDGET_PROXY_PROMETHEUS_PASSWORD}@actualbudget.home/.proxy/metrics

  - <<: *default-tcp
    name: ActualBudget - TCP:80
    group: App - ActualBudget
    url: tcp://actualbudget.home:80

  - <<: *default-tcp
    name: ActualBudget - TCP:443
    group: App - ActualBudget
    url: tcp://actualbudget.home:443

  ### Group: App - ActualBudget (Public) ###

  - <<: *default-icmp
    name: ActualBudget (Public) - ICMP
    group: App - ActualBudget (Public)
    url: icmp://actualbudget-public.home

  - <<: *default-http
    name: ActualBudget (Public) - HTTP
    group: App - ActualBudget (Public)
    url: http://actualbudget-public.home

  - <<: *default-http
    name: ActualBudget (Public) - HTTPS
    group: App - ActualBudget (Public)
    url: https://actualbudget-public.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: ActualBudget (Public) - Proxy prometheus metrics
    group: App - ActualBudget (Public)
    url: https://proxy-prometheus:${ACTUALBUDGET_PUBLIC_PROXY_PROMETHEUS_PASSWORD}@actualbudget-public.home/.proxy/metrics

  - <<: *default-tcp
    name: ActualBudget (Public) - TCP:80
    group: App - ActualBudget (Public)
    url: tcp://actualbudget-public.home:80

  - <<: *default-tcp
    name: ActualBudget (Public) - TCP:443
    group: App - ActualBudget (Public)
    url: tcp://actualbudget-public.home:443

  ### Group: App - Changedetection ###

  - <<: *default-icmp
    name: Changedetection - ICMP
    group: App - Changedetection
    url: icmp://changedetection.home

  - <<: *default-http
    name: Changedetection - HTTP
    group: App - Changedetection
    url: http://changedetection.home

  - <<: *default-http
    name: Changedetection - HTTPS
    group: App - Changedetection
    url: https://changedetection.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Changedetection - Proxy prometheus metrics
    group: App - Changedetection
    url: https://proxy-prometheus:${CHANGEDETECTION_PROXY_PROMETHEUS_PASSWORD}@changedetection.home/.proxy/metrics

  - <<: *default-tcp
    name: Changedetection - TCP:80
    group: App - Changedetection
    url: tcp://changedetection.home:80

  - <<: *default-tcp
    name: Changedetection - TCP:443
    group: App - Changedetection
    url: tcp://changedetection.home:443

  ### Group: App - Desklamp - Left ###

  # - <<: *default-icmp
  #   name: Desklamp - Left - ICMP
  #   group: App - Desklamp - Left
  #   url: icmp://desklamp-left.home

  # - <<: *default-http
  #   name: Desklamp - Left - HTTP
  #   group: App - Desklamp - Left
  #   url: http://desklamp-left.home

  # - <<: *default-http
  #   name: Desklamp - Left - HTTPS
  #   group: App - Desklamp - Left
  #   url: https://desklamp-left.home
  #   enabled: false

  # - <<: *default-http
  #   name: Desklamp - Left - API Health
  #   group: App - Desklamp - Left
  #   url: http://desklamp-left.home/api/status
  #   conditions:
  #     - "[STATUS] == 200"
  #     - "has([BODY].status) == true"
  #     - "[BODY].status == any(on, off)"

  # - <<: *default-http
  #   name: Desklamp - Left - Proxy prometheus metrics
  #   group: App - Desklamp - Left
  #   url: https://proxy-prometheus:${DESKLAMP_LEFT_PROXY_PROMETHEUS_PASSWORD}@desklamp-left.home/.proxy/metrics
  #   enabled: false

  # - <<: *default-tcp
  #   name: Desklamp - Left - TCP:80
  #   group: App - Desklamp - Left
  #   url: tcp://desklamp-left.home:80

  # - <<: *default-tcp
  #   name: Desklamp - Left - TCP:443
  #   group: App - Desklamp - Left
  #   url: tcp://desklamp-left.home:443
  #   enabled: false

  ### Group: App - Desklamp - Right ###

  # - <<: *default-icmp
  #   name: Desklamp - Right - ICMP
  #   group: App - Desklamp - Right
  #   url: icmp://desklamp-right.home

  # - <<: *default-http
  #   name: Desklamp - Right - HTTP
  #   group: App - Desklamp - Right
  #   url: http://desklamp-right.home

  # - <<: *default-http
  #   name: Desklamp - Right - HTTPS
  #   group: App - Desklamp - Right
  #   url: https://desklamp-right.home
  #   enabled: false

  # - <<: *default-http
  #   name: Desklamp - Right - API Health
  #   group: App - Desklamp - Right
  #   url: http://desklamp-right.home/api/status
  #   conditions:
  #     - "[STATUS] == 200"
  #     - "has([BODY].status) == true"
  #     - "[BODY].status == any(on, off)"

  # - <<: *default-http
  #   name: Desklamp - Right - Proxy prometheus metrics
  #   group: App - Desklamp - Right
  #   url: https://proxy-prometheus:${DESKLAMP_RIGHT_PROXY_PROMETHEUS_PASSWORD}@desklamp-right.home/.proxy/metrics
  #   enabled: false

  # - <<: *default-tcp
  #   name: Desklamp - Right - TCP:80
  #   group: App - Desklamp - Right
  #   url: tcp://desklamp-right.home:80

  # - <<: *default-tcp
  #   name: Desklamp - Right - TCP:443
  #   group: App - Desklamp - Right
  #   url: tcp://desklamp-right.home:443
  #   enabled: false

  ### Group: App - Dockerhub proxy ###

  - <<: *default-icmp
    name: DockerHub proxy - ICMP
    group: App - DockerHub proxy
    url: icmp://dockerhub-cache-proxy.home

  - <<: *default-http
    name: DockerHub proxy - HTTP
    group: App - DockerHub proxy
    url: http://dockerhub-cache-proxy.home

  - <<: *default-http
    name: DockerHub proxy - HTTPS
    group: App - DockerHub proxy
    url: https://dockerhub-cache-proxy.home

  - <<: *default-http
    name: DockerHub proxy - Proxy prometheus metrics
    group: App - DockerHub proxy
    url: https://proxy-prometheus:${DOCKERHUB_CACHE_PROXY_PROXY_PROMETHEUS_PASSWORD}@dockerhub-cache-proxy.home/.proxy/metrics

  - <<: *default-http
    name: DockerHub proxy Api
    group: App - DockerHub proxy
    url: https://dockerhub-cache-proxy.home/v2/_catalog
    conditions:
      - "[STATUS] == 200"
      - "has([BODY].repositories) == true"
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-tcp
    name: DockerHub proxy - TCP:80
    group: App - DockerHub proxy
    url: tcp://dockerhub-cache-proxy.home:80

  - <<: *default-tcp
    name: DockerHub proxy - TCP:443
    group: App - DockerHub proxy
    url: tcp://dockerhub-cache-proxy.home:443

  ### Group: App - Dozzle ###

  - <<: *default-icmp
    name: Dozzle - ICMP
    group: App - Dozzle
    url: icmp://dozzle.home

  - <<: *default-http
    name: Dozzle - HTTP
    group: App - Dozzle
    url: http://dozzle.home

  - <<: *default-http
    name: Dozzle - HTTPS
    group: App - Dozzle
    url: https://dozzle.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Dozzle - Proxy prometheus metrics
    group: App - Dozzle
    url: https://proxy-prometheus:${DOZZLE_PROXY_PROMETHEUS_PASSWORD}@dozzle.home/.proxy/metrics

  - <<: *default-tcp
    name: Dozzle - TCP:80
    group: App - Dozzle
    url: tcp://dozzle.home:80

  - <<: *default-tcp
    name: Dozzle - TCP:443
    group: App - Dozzle
    url: tcp://dozzle.home:443

  ### Group: App - Dozzle agents ###

  # Odroid H3

  - <<: *default-icmp
    name: Dozzle agent - Odroid H3 - ICMP
    group: App - Dozzle agents
    url: icmp://dozzle-agent-odroid-h3.home

  - <<: *default-tcp
    name: Dozzle agent - Odroid H3 - TCP:7007
    group: App - Dozzle agents
    url: tcp://dozzle-agent-odroid-h3.home:7007
    alerts:
      - type: ntfy
      - type: email

  # Raspberry Pi 3B

  - <<: *default-icmp
    name: Dozzle agent - Raspberry Pi 3B - ICMP
    group: App - Dozzle agents
    url: icmp://dozzle-agent-raspberry-pi-3b.home

  - <<: *default-tcp
    name: Dozzle agent - Raspberry Pi 3B - TCP:7007
    group: App - Dozzle agents
    url: tcp://dozzle-agent-raspberry-pi-3b.home:7007
    alerts:
      - type: ntfy
      - type: email

  # Raspberry Pi 4B 2GB

  - <<: *default-icmp
    name: Dozzle agent - Raspberry Pi 4B 2GB - ICMP
    group: App - Dozzle agents
    url: icmp://dozzle-agent-raspberry-pi-4b-2g.home

  - <<: *default-tcp
    name: Dozzle agent - Raspberry Pi 4B 2GB - TCP:7007
    group: App - Dozzle agents
    url: tcp://dozzle-agent-raspberry-pi-4b-2g.home:7007
    alerts:
      - type: ntfy
      - type: email

  # Raspberry Pi 4B 4GB

  - <<: *default-icmp
    name: Dozzle agent - Raspberry Pi 4B 4GB - ICMP
    group: App - Dozzle agents
    url: icmp://dozzle-agent-raspberry-pi-4b-4g.home

  - <<: *default-tcp
    name: Dozzle agent - Raspberry Pi 4B 4GB - TCP:7007
    group: App - Dozzle agents
    url: tcp://dozzle-agent-raspberry-pi-4b-4g.home:7007
    alerts:
      - type: ntfy
      - type: email

  ### Group: App - Gatus (1) ###

  - <<: *default-icmp
    name: Gatus (1) - ICMP
    group: App - Gatus (1)
    url: icmp://gatus-1.home

  - <<: *default-http
    name: Gatus (1) - HTTP
    group: App - Gatus (1)
    url: http://gatus-1.home

  - <<: *default-http
    name: Gatus (1) - HTTPS
    group: App - Gatus (1)
    url: https://gatus-1.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Gatus (1) - Prometheus metrics
    group: App - Gatus (1)
    url: https://prometheus:${GATUS_1_PROMETHEUS_TOKEN}@gatus-1.home/metrics

  - <<: *default-http
    name: Gatus (1) - Proxy prometheus metrics
    group: App - Gatus (1)
    url: https://proxy-prometheus:${GATUS_1_PROXY_PROMETHEUS_PASSWORD}@gatus-1.home/.proxy/metrics

  - <<: *default-tcp
    name: Gatus (1) - TCP:80
    group: App - Gatus (1)
    url: tcp://gatus-1.home:80

  - <<: *default-tcp
    name: Gatus (1) - TCP:443
    group: App - Gatus (1)
    url: tcp://gatus-1.home:443

  ### Group: App - Gatus (2) ###

  - <<: *default-icmp
    name: Gatus (2) - ICMP
    group: App - Gatus (2)
    url: icmp://gatus-2.home

  - <<: *default-http
    name: Gatus (2) - HTTP
    group: App - Gatus (2)
    url: http://gatus-2.home

  - <<: *default-http
    name: Gatus (2) - HTTPS
    group: App - Gatus (2)
    url: https://gatus-2.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Gatus (2) - Prometheus metrics
    group: App - Gatus (2)
    url: https://prometheus:${GATUS_2_PROMETHEUS_TOKEN}@gatus-2.home/metrics

  - <<: *default-http
    name: Gatus (2) - Proxy prometheus metrics
    group: App - Gatus (2)
    url: https://proxy-prometheus:${GATUS_2_PROXY_PROMETHEUS_PASSWORD}@gatus-2.home/.proxy/metrics

  - <<: *default-tcp
    name: Gatus (2) - TCP:80
    group: App - Gatus (2)
    url: tcp://gatus-2.home:80

  - <<: *default-tcp
    name: Gatus (2) - TCP:443
    group: App - Gatus (2)
    url: tcp://gatus-2.home:443

  ### Group: App - Glances ###

  # Odroid H3

  - <<: *default-icmp
    name: Glances - Odroid H3 - ICMP
    group: App - Glances
    url: icmp://glances-odroid-h3.home

  - <<: *default-http
    name: Glances - Odroid H3 - HTTP
    group: App - Glances
    url: http://glances-odroid-h3.home
    conditions:
      - "[STATUS] == 401"

  - <<: *default-http
    name: Glances - Odroid H3 - HTTPS
    group: App - Glances
    url: https://admin:${GLANCES_ODROID_H3_PASSWORD}@glances-odroid-h3.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Glances - Odroid H3 - Prometheus metrics
    group: App - Glances
    url: https://prometheus:${GLANCES_ODROID_H3_PROMETHEUS_PASSWORD}@glances-odroid-h3.home/metrics

  - <<: *default-http
    name: Glances - Odroid H3 - Proxy prometheus metrics
    group: App - Glances
    url: https://proxy-prometheus:${GLANCES_ODROID_H3_PROXY_PROMETHEUS_PASSWORD}@glances-odroid-h3.home/.proxy/metrics

  - <<: *default-tcp
    name: Glances - Odroid H3 - TCP:80
    group: App - Glances
    url: tcp://glances-odroid-h3.home:80

  - <<: *default-tcp
    name: Glances - Odroid H3 - TCP:443
    group: App - Glances
    url: tcp://glances-odroid-h3.home:443

  # Raspberry Pi 3B

  - <<: *default-icmp
    name: Glances - Raspberry Pi 3B - ICMP
    group: App - Glances
    url: icmp://glances-raspberry-pi-3b.home

  - <<: *default-http
    name: Glances - Raspberry Pi 3B - HTTP
    group: App - Glances
    url: http://glances-raspberry-pi-3b.home
    conditions:
      - "[STATUS] == 401"

  - <<: *default-http
    name: Glances - Raspberry Pi 3B - HTTPS
    group: App - Glances
    url: https://admin:${GLANCES_RASPBERRY_PI_3B_PASSWORD}@glances-raspberry-pi-3b.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Glances - Raspberry Pi 3B - Prometheus metrics
    group: App - Glances
    url: https://prometheus:${GLANCES_RASPBERRY_PI_3B_PROMETHEUS_PASSWORD}@glances-raspberry-pi-3b.home/metrics

  - <<: *default-http
    name: Glances - Raspberry Pi 3B - Proxy prometheus metrics
    group: App - Glances
    url: https://proxy-prometheus:${GLANCES_RASPBERRY_PI_3B_PROXY_PROMETHEUS_PASSWORD}@glances-raspberry-pi-3b.home/.proxy/metrics

  - <<: *default-tcp
    name: Glances - Raspberry Pi 3B - TCP:80
    group: App - Glances
    url: tcp://glances-raspberry-pi-3b.home:80

  - <<: *default-tcp
    name: Glances - Raspberry Pi 3B - TCP:443
    group: App - Glances
    url: tcp://glances-raspberry-pi-3b.home:443

  # Raspberry Pi 4B 2GB

  - <<: *default-icmp
    name: Glances - Raspberry Pi 4B 2GB - ICMP
    group: App - Glances
    url: icmp://glances-raspberry-pi-4b-2g.home

  - <<: *default-http
    name: Glances - Raspberry Pi 4B 2GB - HTTP
    group: App - Glances
    url: http://glances-raspberry-pi-4b-2g.home
    conditions:
      - "[STATUS] == 401"

  - <<: *default-http
    name: Glances - Raspberry Pi 4B 2GB - HTTPS
    group: App - Glances
    url: https://admin:${GLANCES_RASPBERRY_PI_4B_2G_PASSWORD}@glances-raspberry-pi-4b-2g.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Glances - Raspberry Pi 4B 2GB - Prometheus metrics
    group: App - Glances
    url: https://prometheus:${GLANCES_RASPBERRY_PI_4B_2G_PROMETHEUS_PASSWORD}@glances-raspberry-pi-4b-2g.home/metrics

  - <<: *default-http
    name: Glances - Raspberry Pi 4B 2GB - Proxy prometheus metrics
    group: App - Glances
    url: https://proxy-prometheus:${GLANCES_RASPBERRY_PI_4B_2G_PROXY_PROMETHEUS_PASSWORD}@glances-raspberry-pi-4b-2g.home/.proxy/metrics

  - <<: *default-tcp
    name: Glances - Raspberry Pi 4B 2GB - TCP:80
    group: App - Glances
    url: tcp://glances-raspberry-pi-4b-2g.home:80

  - <<: *default-tcp
    name: Glances - Raspberry Pi 4B 2GB - TCP:443
    group: App - Glances
    url: tcp://glances-raspberry-pi-4b-2g.home:443

  # Raspberry Pi 4B 4GB

  - <<: *default-icmp
    name: Glances - Raspberry Pi 4B 4GB - ICMP
    group: App - Glances
    url: icmp://glances-raspberry-pi-4b-4g.home

  - <<: *default-http
    name: Glances - Raspberry Pi 4B 4GB - HTTP
    group: App - Glances
    url: http://glances-raspberry-pi-4b-4g.home
    conditions:
      - "[STATUS] == 401"

  - <<: *default-http
    name: Glances - Raspberry Pi 4B 4GB - HTTPS
    group: App - Glances
    url: https://admin:${GLANCES_RASPBERRY_PI_4B_4G_PASSWORD}@glances-raspberry-pi-4b-4g.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Glances - Raspberry Pi 4B 4GB - Prometheus metrics
    group: App - Glances
    url: https://prometheus:${GLANCES_RASPBERRY_PI_4B_4G_PROMETHEUS_PASSWORD}@glances-raspberry-pi-4b-4g.home/metrics

  - <<: *default-http
    name: Glances - Raspberry Pi 4B 4GB - Proxy prometheus metrics
    group: App - Glances
    url: https://proxy-prometheus:${GLANCES_RASPBERRY_PI_4B_4G_PROXY_PROMETHEUS_PASSWORD}@glances-raspberry-pi-4b-4g.home/.proxy/metrics

  - <<: *default-tcp
    name: Glances - Raspberry Pi 4B 4GB - TCP:80
    group: App - Glances
    url: tcp://glances-raspberry-pi-4b-4g.home:80

  - <<: *default-tcp
    name: Glances - Raspberry Pi 4B 4GB - TCP:443
    group: App - Glances
    url: tcp://glances-raspberry-pi-4b-4g.home:443

  ### Group: App - Healthchecks ###

  - <<: *default-icmp
    name: Healthchecks - ICMP
    group: App - Healthchecks
    url: icmp://healthchecks.home

  - <<: *default-http
    name: Healthchecks - HTTP
    group: App - Healthchecks
    url: http://healthchecks.home

  - <<: *default-http
    name: Healthchecks - HTTPS
    group: App - Healthchecks
    url: https://healthchecks.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Healthchecks - API health
    group: App - Healthchecks
    url: https://healthchecks.home/api/v3/status
    conditions:
      - "[STATUS] == 200"
      - "[BODY] == OK"

  - <<: *default-http
    name: Healthchecks - Proxy prometheus metrics
    group: App - Healthchecks
    url: https://proxy-prometheus:${HEALTHCHECKS_PROXY_PROMETHEUS_PASSWORD}@healthchecks.home/.proxy/metrics

  - <<: *default-tcp
    name: Healthchecks - TCP:80
    group: App - Healthchecks
    url: tcp://healthchecks.home:80

  - <<: *default-tcp
    name: Healthchecks - TCP:443
    group: App - Healthchecks
    url: tcp://healthchecks.home:443

  ### Group: App - Home Assistant ###

  - <<: *default-icmp
    name: Home Assistant - ICMP
    group: App - Home Assistant
    url: icmp://homeassistant.home

  - <<: *default-http
    name: Home Assistant - HTTP
    group: App - Home Assistant
    url: http://homeassistant.home

  - <<: *default-http
    name: Home Assistant - HTTPS
    group: App - Home Assistant
    url: https://homeassistant.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Home Assistant - Prometheus metrics
    group: App - Home Assistant
    url: https://homeassistant.home/api/prometheus
    headers:
      Authorization: Bearer ${HOMEASSISTANT_PROMETHEUS_TOKEN}

  - <<: *default-http
    name: Home Assistant - Proxy prometheus metrics
    group: App - Home Assistant
    url: https://proxy-prometheus:${HOMEASSISTANT_PROXY_PROMETHEUS_PASSWORD}@homeassistant.home/.proxy/metrics

  - <<: *default-tcp
    name: Home Assistant - TCP:80
    group: App - Home Assistant
    url: tcp://homeassistant.home:80

  - <<: *default-tcp
    name: Home Assistant - TCP:443
    group: App - Home Assistant
    url: tcp://homeassistant.home:443

  ### Group: App - Homepage ###

  - <<: *default-icmp
    name: Homepage - ICMP
    group: App - Homepage
    url: icmp://homepage.home

  - <<: *default-http
    name: Homepage - HTTP
    group: App - Homepage
    url: http://homepage.home
    conditions:
      - "[STATUS] == 401"

  - <<: *default-http
    name: Homepage - HTTPS
    group: App - Homepage
    url: https://admin:${HOMEPAGE_PASSWORD}@homepage.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Homepage - Proxy prometheus metrics
    group: App - Homepage
    url: https://proxy-prometheus:${HOMEPAGE_PROXY_PROMETHEUS_PASSWORD}@homepage.home/.proxy/metrics

  - <<: *default-tcp
    name: Homepage - TCP:80
    group: App - Homepage
    url: tcp://homepage.home:80

  - <<: *default-tcp
    name: Homepage - TCP:443
    group: App - Homepage
    url: tcp://homepage.home:443

  ### Group: App - Jellyfin ###

  - <<: *default-icmp
    name: Jellyfin - ICMP
    group: App - Jellyfin
    url: icmp://jellyfin.home

  - <<: *default-http
    name: Jellyfin - HTTP
    group: App - Jellyfin
    url: http://jellyfin.home

  - <<: *default-http
    name: Jellyfin - HTTPS
    group: App - Jellyfin
    url: https://jellyfin.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Jellyfin - API health
    group: App - Jellyfin
    url: https://jellyfin.home/health
    conditions:
      - "[STATUS] == 200"
      - "[BODY] == Healthy"

  - <<: *default-http
    name: Jellyfin - Proxy prometheus metrics
    group: App - Jellyfin
    url: https://proxy-prometheus:${JELLYFIN_PROXY_PROMETHEUS_PASSWORD}@jellyfin.home/.proxy/metrics

  # TODO: Remove this port after Let's encrypt certificates
  - <<: *default-http
    name: Jellyfin - HTTP:8096
    group: App - Jellyfin
    url: http://jellyfin.home:8096

  - <<: *default-tcp
    name: Jellyfin - TCP:80
    group: App - Jellyfin
    url: tcp://jellyfin.home:80

  - <<: *default-tcp
    name: Jellyfin - TCP:443
    group: App - Jellyfin
    url: tcp://jellyfin.home:443

  # TODO: Remove this port after Let's encrypt certificates
  - <<: *default-tcp
    name: Jellyfin - TCP:8096
    group: App - Jellyfin
    url: tcp://jellyfin.home:8096

  ### Group: App - Minio ###

  - <<: *default-icmp
    name: Minio API - ICMP
    group: App - Minio
    url: icmp://minio.home

  - <<: *default-http
    name: Minio API - HTTP
    group: App - Minio
    url: http://minio.home
    conditions:
      - "[STATUS] < 500"

  - <<: *default-http
    name: Minio API - HTTPS
    group: App - Minio
    url: https://minio.home
    conditions:
      - "[STATUS] < 500"

  - <<: *default-http
    name: Minio API - API health
    group: App - Minio
    url: https://minio.home/minio/health/live
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Minio API - Health cluster write
    group: App - Minio
    url: https://minio.home/minio/health/cluster

  - <<: *default-http
    name: Minio API - Health cluster read
    group: App - Minio
    url: https://minio.home/minio/health/cluster/read

  - <<: *default-http
    name: Minio API - Prometheus metrics
    group: App - Minio
    url: https://minio.home/minio/v2/metrics/cluster
    headers:
      Authorization: Bearer ${MINIO_PROMETHEUS_TOKEN}

  - <<: *default-http
    name: Minio API - Proxy prometheus metrics
    group: App - Minio
    url: https://proxy-prometheus:${MINIO_PROXY_PROMETHEUS_PASSWORD}@minio.home/.proxy/metrics

  - <<: *default-tcp
    name: Minio API - TCP:80
    group: App - Minio
    url: tcp://minio.home:80

  - <<: *default-tcp
    name: Minio API - TCP:443
    group: App - Minio
    url: tcp://minio.home:443

  - <<: *default-icmp
    name: Minio Console - ICMP
    group: App - Minio
    url: icmp://minio-console.home

  - <<: *default-http
    name: Minio Console - HTTP
    group: App - Minio
    url: http://minio-console.home

  - <<: *default-http
    name: Minio Console - HTTPS
    group: App - Minio
    url: https://minio-console.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-tcp
    name: Minio Console - TCP:80
    group: App - Minio
    url: tcp://minio-console.home:80

  - <<: *default-tcp
    name: Minio Console - TCP:443
    group: App - Minio
    url: tcp://minio-console.home:443

  ### Group: App - MotionEye ###

  - <<: *default-icmp
    name: MotionEye (Stove) - ICMP
    group: App - MotionEye (Stove)
    url: icmp://motioneye-stove.home

  - <<: *default-http
    name: MotionEye (Stove) - HTTP
    group: App - MotionEye (Stove)
    url: http://motioneye-stove.home

  - <<: *default-http
    name: MotionEye (Stove) - HTTPS
    group: App - MotionEye (Stove)
    url: https://motioneye-stove.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: MotionEye (Stove) - HTTPS:9081
    group: App - MotionEye (Stove)
    url: https://motioneye-stove.home:9081
    conditions:
      - "[STATUS] == 401"

  - <<: *default-http
    name: MotionEye (Stove) - Proxy prometheus metrics
    group: App - MotionEye (Stove)
    url: https://proxy-prometheus:${MOTIONEYE_STOVE_PROXY_PROMETHEUS_PASSWORD}@motioneye-stove.home/.proxy/metrics

  - <<: *default-tcp
    name: MotionEye (Stove) - TCP:80
    group: App - MotionEye (Stove)
    url: tcp://motioneye-stove.home:80

  - <<: *default-tcp
    name: MotionEye (Stove) - TCP:443
    group: App - MotionEye (Stove)
    url: tcp://motioneye-stove.home:443

  - <<: *default-tcp
    name: MotionEye (Stove) - TCP:9081
    group: App - MotionEye (Stove)
    url: tcp://motioneye-stove.home:9081

  ### Group: App - NetAlertX ###
  # TODO: Enable NetAlertX

  - <<: *default-icmp
    name: NetAlertX - ICMP
    group: App - NetAlertX
    url: icmp://netalertx.home
    enabled: false

  - <<: *default-http
    name: NetAlertX - HTTP
    group: App - NetAlertX
    url: http://netalertx.home
    enabled: false

  - <<: *default-http
    name: NetAlertX - HTTPS
    group: App - NetAlertX
    url: https://netalertx.home
    alerts:
      - type: ntfy
      - type: email
    enabled: false

  - <<: *default-http
    name: NetAlertX - HTTP (Direct)
    group: App - NetAlertX
    url: http://netalertx.home:20211
    enabled: false

  - <<: *default-http
    name: NetAlertX - Prometheus metrics
    group: App - NetAlertX
    url: https://netalertx.home/api/prometheus
    enabled: false

  - <<: *default-http
    name: NetAlertX - Proxy prometheus metrics
    group: App - NetAlertX
    url: https://proxy-prometheus:${NETALERTX_PROXY_PROMETHEUS_PASSWORD}@netalertx.home/.proxy/metrics
    enabled: false

  - <<: *default-tcp
    name: NetAlertX - TCP:80
    group: App - NetAlertX
    url: tcp://netalertx.home:80
    enabled: false

  - <<: *default-tcp
    name: NetAlertX - TCP:443
    group: App - NetAlertX
    url: tcp://netalertx.home:443
    enabled: false

  - <<: *default-tcp
    name: NetAlertX - TCP:20211
    group: App - NetAlertX
    url: tcp://netalertx.home:20211
    enabled: false

  ### Group: App - Ntfy ###

  - <<: *default-icmp
    name: Ntfy - ICMP
    group: App - Ntfy
    url: icmp://ntfy.home

  - <<: *default-http
    name: Ntfy - HTTP
    group: App - Ntfy
    url: http://ntfy.home

  - <<: *default-http
    name: Ntfy - HTTPS
    group: App - Ntfy
    url: https://ntfy.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Ntfy - API Health
    group: App - Ntfy
    url: https://ntfy.home/v1/health
    conditions:
      - "[STATUS] == 200"
      - "[BODY].healthy == true"

  - <<: *default-http
    name: Ntfy - Proxy prometheus metrics
    group: App - Ntfy
    url: https://proxy-prometheus:${NTFY_PROXY_PROMETHEUS_PASSWORD}@ntfy.home/.proxy/metrics

  - <<: *default-tcp
    name: Ntfy - TCP:25
    group: App - Ntfy
    url: tcp://ntfy.home:25

  - <<: *default-tcp
    name: Ntfy - TCP:80
    group: App - Ntfy
    url: tcp://ntfy.home:80

  - <<: *default-tcp
    name: Ntfy - TCP:443
    group: App - Ntfy
    url: tcp://ntfy.home:443

  ### Group: App - Omada Controller ###

  - <<: *default-icmp
    name: Omada Controller Admin - ICMP
    group: App - Omada Controller
    url: icmp://omada-controller.home

  - <<: *default-http
    name: Omada Controller Admin - HTTP
    group: App - Omada Controller
    url: http://omada-controller.home

  - <<: *default-http
    name: Omada Controller Admin - HTTPS
    group: App - Omada Controller
    url: https://omada-controller.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Omada Controller - API Health
    group: App - Omada Controller
    url: https://omada-controller.home/api/v2/anon/info
    conditions:
      - "[STATUS] == 200"
      - "[BODY].errorCode == 0"
      - "has([BODY].msg) == true"
      - "has([BODY].result) == true"
      - "has([BODY].result.apiVer) == true"
      - "has([BODY].result.controllerVer) == true"
      - "[BODY].result.configured == true"

  - <<: *default-http
    name: Omada Controller - Proxy prometheus metrics
    group: App - Omada Controller
    url: https://proxy-prometheus:${OMADA_CONTROLLER_PROXY_PROMETHEUS_PASSWORD}@omada-controller.home/.proxy/metrics

  - <<: *default-tcp
    name: Omada Controller - TCP:80
    group: App - Omada Controller
    url: tcp://omada-controller.home:80

  - <<: *default-tcp
    name: Omada Controller - TCP:443
    group: App - Omada Controller
    url: tcp://omada-controller.home:443

  - <<: *default-udp
    name: Omada Controller - UDP:27001
    group: App - Omada Controller
    url: udp://omada-controller.home:27001

  - <<: *default-udp
    name: Omada Controller - UDP:29810
    group: App - Omada Controller
    url: udp://omada-controller.home:29810

  - <<: *default-tcp
    name: Omada Controller - TCP:29811
    group: App - Omada Controller
    url: tcp://omada-controller.home:29811

  - <<: *default-tcp
    name: Omada Controller - TCP:29812
    group: App - Omada Controller
    url: tcp://omada-controller.home:29812

  - <<: *default-tcp
    name: Omada Controller - TCP:29813
    group: App - Omada Controller
    url: tcp://omada-controller.home:29813

  - <<: *default-tcp
    name: Omada Controller - TCP:29814
    group: App - Omada Controller
    url: tcp://omada-controller.home:29814

  - <<: *default-tcp
    name: Omada Controller - TCP:29815
    group: App - Omada Controller
    url: tcp://omada-controller.home:29815

  - <<: *default-tcp
    name: Omada Controller - TCP:29816
    group: App - Omada Controller
    url: tcp://omada-controller.home:29816

  ### Group: App - OpenSpeedTest ###

  - <<: *default-icmp
    name: OpenSpeedTest - ICMP
    group: App - OpenSpeedTest
    url: icmp://openspeedtest.home

  - <<: *default-http
    name: OpenSpeedTest - HTTP
    group: App - OpenSpeedTest
    url: http://openspeedtest.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: OpenSpeedTest - HTTPS
    group: App - OpenSpeedTest
    url: https://openspeedtest.home

  - <<: *default-http
    name: OpenSpeedTest - Proxy prometheus metrics
    group: App - OpenSpeedTest
    url: https://proxy-prometheus:${OPENSPEEDTEST_PROXY_PROMETHEUS_PASSWORD}@openspeedtest.home/.proxy/metrics

  - <<: *default-tcp
    name: OpenSpeedTest - TCP:80
    group: App - OpenSpeedTest
    url: tcp://openspeedtest.home:80

  - <<: *default-tcp
    name: OpenSpeedTest - TCP:443
    group: App - OpenSpeedTest
    url: tcp://openspeedtest.home:443

  ### Group: App - PiHole 1 Primary ###

  - <<: *default-icmp
    name: PiHole 1 Primary - ICMP
    group: App - PiHole 1 Primary
    url: icmp://pihole-1-primary.home

  - <<: *default-http
    name: PiHole 1 Primary - HTTP
    group: App - PiHole 1 Primary
    url: http://pihole-1-primary.home

  - <<: *default-http
    name: PiHole 1 Primary - HTTPS
    group: App - PiHole 1 Primary
    url: https://pihole-1-primary.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: PiHole 1 Primary - Prometheus metrics
    group: App - PiHole 1 Primary
    url: https://prometheus:${PIHOLE_1_PRIMARY_PROMETHEUS_PASSWORD}@pihole-1-primary.home/metrics

  - <<: *default-http
    name: PiHole 1 Primary - Proxy prometheus metrics
    group: App - PiHole 1 Primary
    url: https://proxy-prometheus:${PIHOLE_1_PRIMARY_PROXY_PROMETHEUS_PASSWORD}@pihole-1-primary.home/.proxy/metrics

  - <<: *default-dns
    name: PiHole 1 Primary - DNS
    group: App - PiHole 1 Primary
    url: pihole-1-primary.home

  - <<: *default-tcp
    name: PiHole 1 Primary - TCP:53
    group: App - PiHole 1 Primary
    url: tcp://pihole-1-primary.home:53

  - <<: *default-udp
    name: PiHole 1 Primary - UDP:53
    group: App - PiHole 1 Primary
    url: udp://pihole-1-primary.home:53

  - <<: *default-tcp
    name: PiHole 1 Primary - TCP:80
    group: App - PiHole 1 Primary
    url: tcp://pihole-1-primary.home:80

  - <<: *default-tcp
    name: PiHole 1 Primary - TCP:443
    group: App - PiHole 1 Primary
    url: tcp://pihole-1-primary.home:443

  ### Group: App - PiHole 1 Secondary ###

  - <<: *default-icmp
    name: PiHole 1 Secondary - ICMP
    group: App - PiHole 1 Secondary
    url: icmp://pihole-1-secondary.home

  - <<: *default-http
    name: PiHole 1 Secondary - HTTP
    group: App - PiHole 1 Secondary
    url: http://pihole-1-secondary.home

  - <<: *default-http
    name: PiHole 1 Secondary - HTTPS
    group: App - PiHole 1 Secondary
    url: https://pihole-1-secondary.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: PiHole 1 Secondary - Prometheus metrics
    group: App - PiHole 1 Secondary
    url: https://prometheus:${PIHOLE_1_SECONDARY_PROMETHEUS_PASSWORD}@pihole-1-secondary.home/metrics

  - <<: *default-http
    name: PiHole 1 Secondary - Proxy prometheus metrics
    group: App - PiHole 1 Secondary
    url: https://proxy-prometheus:${PIHOLE_1_SECONDARY_PROXY_PROMETHEUS_PASSWORD}@pihole-1-secondary.home/.proxy/metrics

  - <<: *default-dns
    name: PiHole 1 Secondary - DNS
    group: App - PiHole 1 Secondary
    url: pihole-1-secondary.home

  - <<: *default-tcp
    name: PiHole 1 Secondary - TCP:53
    group: App - PiHole 1 Secondary
    url: tcp://pihole-1-secondary.home:53

  - <<: *default-udp
    name: PiHole 1 Secondary - UDP:53
    group: App - PiHole 1 Secondary
    url: udp://pihole-1-secondary.home:53

  - <<: *default-tcp
    name: PiHole 1 Secondary - TCP:80
    group: App - PiHole 1 Secondary
    url: tcp://pihole-1-secondary.home:80

  - <<: *default-tcp
    name: PiHole 1 Secondary - TCP:443
    group: App - PiHole 1 Secondary
    url: tcp://pihole-1-secondary.home:443

  ### Group: App - PiHole 2 Primary ###

  - <<: *default-icmp
    name: PiHole 2 Primary - ICMP
    group: App - PiHole 2 Primary
    url: icmp://pihole-2-primary.home

  - <<: *default-http
    name: PiHole 2 Primary - HTTP
    group: App - PiHole 2 Primary
    url: http://pihole-2-primary.home

  - <<: *default-http
    name: PiHole 2 Primary - HTTPS
    group: App - PiHole 2 Primary
    url: https://pihole-2-primary.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: PiHole 2 Primary - Prometheus metrics
    group: App - PiHole 2 Primary
    url: https://prometheus:${PIHOLE_2_PRIMARY_PROMETHEUS_PASSWORD}@pihole-2-primary.home/metrics

  - <<: *default-http
    name: PiHole 2 Primary - Proxy prometheus metrics
    group: App - PiHole 2 Primary
    url: https://proxy-prometheus:${PIHOLE_2_PRIMARY_PROXY_PROMETHEUS_PASSWORD}@pihole-2-primary.home/.proxy/metrics

  - <<: *default-dns
    name: PiHole 2 Primary - DNS
    group: App - PiHole 2 Primary
    url: pihole-2-primary.home

  - <<: *default-tcp
    name: PiHole 2 Primary - TCP:53
    group: App - PiHole 2 Primary
    url: tcp://pihole-2-primary.home:53

  - <<: *default-udp
    name: PiHole 2 Primary - UDP:53
    group: App - PiHole 2 Primary
    url: udp://pihole-2-primary.home:53

  - <<: *default-tcp
    name: PiHole 2 Primary - TCP:80
    group: App - PiHole 2 Primary
    url: tcp://pihole-2-primary.home:80

  - <<: *default-tcp
    name: PiHole 2 Primary - TCP:443
    group: App - PiHole 2 Primary
    url: tcp://pihole-2-primary.home:443

  ### Group: App - PiHole 2 Secondary ###

  - <<: *default-icmp
    name: PiHole 2 Secondary - ICMP
    group: App - PiHole 2 Secondary
    url: icmp://pihole-2-secondary.home

  - <<: *default-http
    name: PiHole 2 Secondary - HTTP
    group: App - PiHole 2 Secondary
    url: http://pihole-2-secondary.home

  - <<: *default-http
    name: PiHole 2 Secondary - HTTPS
    group: App - PiHole 2 Secondary
    url: https://pihole-2-secondary.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: PiHole 2 Secondary - Prometheus metrics
    group: App - PiHole 2 Secondary
    url: https://prometheus:${PIHOLE_2_SECONDARY_PROMETHEUS_PASSWORD}@pihole-2-secondary.home/metrics

  - <<: *default-http
    name: PiHole 2 Secondary - Proxy prometheus metrics
    group: App - PiHole 2 Secondary
    url: https://proxy-prometheus:${PIHOLE_2_SECONDARY_PROXY_PROMETHEUS_PASSWORD}@pihole-2-secondary.home/.proxy/metrics

  - <<: *default-dns
    name: PiHole 2 Secondary - DNS
    group: App - PiHole 2 Secondary
    url: pihole-2-secondary.home

  - <<: *default-tcp
    name: PiHole 2 Secondary - TCP:53
    group: App - PiHole 2 Secondary
    url: tcp://pihole-2-secondary.home:53

  - <<: *default-udp
    name: PiHole 2 Secondary - UDP:53
    group: App - PiHole 2 Secondary
    url: udp://pihole-2-secondary.home:53

  - <<: *default-tcp
    name: PiHole 2 Secondary - TCP:80
    group: App - PiHole 2 Secondary
    url: tcp://pihole-2-secondary.home:80

  - <<: *default-tcp
    name: PiHole 2 Secondary - TCP:443
    group: App - PiHole 2 Secondary
    url: tcp://pihole-2-secondary.home:443

  ### Group: App - Prometheus ###

  - <<: *default-icmp
    name: Prometheus - ICMP
    group: App - Prometheus
    url: icmp://prometheus.home

  - <<: *default-http
    name: Prometheus - HTTP
    group: App - Prometheus
    url: http://prometheus.home
    conditions:
      - "[STATUS] == 401"

  - <<: *default-http
    name: Prometheus - HTTPS
    group: App - Prometheus
    url: https://prometheus.home
    conditions:
      - "[STATUS] == 401"
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Prometheus - Prometheus metrics
    group: App - Prometheus
    url: https://prometheus:${PROMETHEUS_PROMETHEUS_PASSWORD}@prometheus.home/metrics

  - <<: *default-http
    name: Prometheus - Proxy prometheus metrics
    group: App - Prometheus
    url: https://proxy-prometheus:${PROMETHEUS_PROXY_PROMETHEUS_PASSWORD}@prometheus.home/.proxy/metrics

  - <<: *default-tcp
    name: Prometheus - TCP:80
    group: App - Prometheus
    url: tcp://prometheus.home:80

  - <<: *default-tcp
    name: Prometheus - TCP:443
    group: App - Prometheus
    url: tcp://prometheus.home:443

  ### Group: App - Smtp4dev ###

  - <<: *default-icmp
    name: Smtp4dev - ICMP
    group: App - Smtp4dev
    url: icmp://smtp4dev.home

  - <<: *default-http
    name: Smtp4dev - HTTP
    group: App - Smtp4dev
    url: http://smtp4dev.home

  - <<: *default-http
    name: Smtp4dev - HTTPS
    group: App - Smtp4dev
    url: https://smtp4dev.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Smtp4dev - Proxy prometheus metrics
    group: App - Smtp4dev
    url: https://proxy-prometheus:${SMTP4DEV_PROXY_PROMETHEUS_PASSWORD}@smtp4dev.home/.proxy/metrics

  - <<: *default-tcp
    name: Smtp4dev - TCP:25
    group: App - Smtp4dev
    url: tcp://smtp4dev.home:25

  - <<: *default-tcp
    name: Smtp4dev - TCP:80
    group: App - Smtp4dev
    url: tcp://smtp4dev.home:80

  - <<: *default-tcp
    name: Smtp4dev - TCP:443
    group: App - Smtp4dev
    url: tcp://smtp4dev.home:443

  ### Group: App - Speedtest Tracker ###

  - <<: *default-icmp
    name: Speedtest Tracker - ICMP
    group: App - Speedtest Tracker
    url: icmp://speedtest-tracker.home

  - <<: *default-http
    name: Speedtest Tracker - HTTP
    group: App - Speedtest Tracker
    url: http://speedtest-tracker.home

  - <<: *default-http
    name: Speedtest Tracker - HTTPS
    group: App - Speedtest Tracker
    url: https://speedtest-tracker.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Speedtest Tracker - API health
    group: App - Speedtest Tracker
    url: https://speedtest-tracker.home/api/healthcheck
    conditions:
      - "[STATUS] == 200"
      - "has([BODY].message) == true"

  - <<: *default-http
    name: Speedtest Tracker - Proxy prometheus metrics
    group: App - Speedtest Tracker
    url: https://proxy-prometheus:${SPEEDTEST_TRACKER_PROXY_PROMETHEUS_PASSWORD}@speedtest-tracker.home/.proxy/metrics

  - <<: *default-tcp
    name: Speedtest Tracker - TCP:80
    group: App - Speedtest Tracker
    url: tcp://speedtest-tracker.home:80

  - <<: *default-tcp
    name: Speedtest Tracker - TCP:443
    group: App - Speedtest Tracker
    url: tcp://speedtest-tracker.home:443

  ### Group: App - Tvheadend ###

  - <<: *default-icmp
    name: Tvheadend - ICMP
    group: App - Tvheadend
    url: icmp://tvheadend.home

  - <<: *default-http
    name: Tvheadend - HTTP
    group: App - Tvheadend
    url: http://tvheadend.home

  - <<: *default-http
    name: Tvheadend - HTTPS
    group: App - Tvheadend
    url: https://tvheadend.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Tvheadend - API health
    group: App - Tvheadend
    url: https://tvheadend.home/api/serverinfo
    conditions:
      - "[STATUS] == 200"
      - "has([BODY].capabilities) == true"
      - "has([BODY].sw_version) == true"
      - "has([BODY].api_version) == true"
      - "has([BODY].name) == true"

  - <<: *default-http
    name: Tvheadend - HTTP:9981
    group: App - Tvheadend
    url: http://tvheadend.home:9981

  - <<: *default-http
    name: Tvheadend - Proxy prometheus metrics
    group: App - Tvheadend
    url: https://proxy-prometheus:${TVHEADEND_PROXY_PROMETHEUS_PASSWORD}@tvheadend.home/.proxy/metrics

  - <<: *default-tcp
    name: Tvheadend - TCP:80
    group: App - Tvheadend
    url: tcp://tvheadend.home:80

  - <<: *default-tcp
    name: Tvheadend - TCP:443
    group: App - Tvheadend
    url: tcp://tvheadend.home:443

  - <<: *default-tcp
    name: Tvheadend - TCP:9981
    group: App - Tvheadend
    url: tcp://tvheadend.home:9981

  - <<: *default-tcp
    name: Tvheadend - TCP:9982
    group: App - Tvheadend
    url: tcp://tvheadend.home:9982

  ### Group: App - Unbound 1 [default] ###

  - <<: *default-icmp
    name: Unbound 1 [default] - ICMP
    group: App - Unbound 1 [default]
    url: icmp://unbound-1-default.home

  - <<: *default-dns
    name: Unbound 1 [default] - DNS
    group: App - Unbound 1 [default]
    url: unbound-1-default.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Unbound 1 [default] - HTTP
    group: App - Unbound 1 [default]
    url: http://unbound-1-default.home/.proxy

  - <<: *default-http
    name: Unbound 1 [default] - HTTPS
    group: App - Unbound 1 [default]
    url: https://unbound-1-default.home/.proxy
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Unbound 1 [default] - Proxy prometheus metrics
    group: App - Unbound 1 [default]
    url: https://proxy-prometheus:${UNBOUND_1_DEFAULT_PROXY_PROMETHEUS_PASSWORD}@unbound-1-default.home/.proxy/metrics

  - <<: *default-tcp
    name: Unbound 1 [default] - TCP:53
    group: App - Unbound 1 [default]
    url: tcp://unbound-1-default.home:53

  - <<: *default-udp
    name: Unbound 1 [default] - UDP:53
    group: App - Unbound 1 [default]
    url: udp://unbound-1-default.home:53

  ### Group: App - Unbound 1 [open] ###

  - <<: *default-icmp
    name: Unbound 1 [open] - ICMP
    group: App - Unbound 1 [open]
    url: icmp://unbound-1-open.home

  - <<: *default-dns
    name: Unbound 1 [open] - DNS
    group: App - Unbound 1 [open]
    url: unbound-1-open.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Unbound 1 [open] - HTTP
    group: App - Unbound 1 [open]
    url: http://unbound-1-open.home/.proxy

  - <<: *default-http
    name: Unbound 1 [open] - HTTPS
    group: App - Unbound 1 [open]
    url: https://unbound-1-open.home/.proxy
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Unbound 1 [open] - Proxy prometheus metrics
    group: App - Unbound 1 [open]
    url: https://proxy-prometheus:${UNBOUND_1_OPEN_PROXY_PROMETHEUS_PASSWORD}@unbound-1-open.home/.proxy/metrics

  - <<: *default-tcp
    name: Unbound 1 [open] - TCP:53
    group: App - Unbound 1 [open]
    url: tcp://unbound-1-open.home:53

  - <<: *default-udp
    name: Unbound 1 [open] - UDP:53
    group: App - Unbound 1 [open]
    url: udp://unbound-1-open.home:53

  ### Group: App - Unbound 2 [default] ###

  - <<: *default-icmp
    name: Unbound 2 [default] - ICMP
    group: App - Unbound 2 [default]
    url: icmp://unbound-2-default.home

  - <<: *default-dns
    name: Unbound 2 [default] - DNS
    group: App - Unbound 2 [default]
    url: unbound-2-default.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Unbound 2 [default] - HTTP
    group: App - Unbound 2 [default]
    url: http://unbound-2-default.home/.proxy

  - <<: *default-http
    name: Unbound 2 [default] - HTTPS
    group: App - Unbound 2 [default]
    url: https://unbound-2-default.home/.proxy
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Unbound 2 [default] - Proxy prometheus metrics
    group: App - Unbound 2 [default]
    url: https://proxy-prometheus:${UNBOUND_2_DEFAULT_PROXY_PROMETHEUS_PASSWORD}@unbound-2-default.home/.proxy/metrics

  - <<: *default-tcp
    name: Unbound 2 [default] - TCP:53
    group: App - Unbound 2 [default]
    url: tcp://unbound-2-default.home:53

  - <<: *default-udp
    name: Unbound 2 [default] - UDP:53
    group: App - Unbound 2 [default]
    url: udp://unbound-2-default.home:53

  ### Group: App - Unbound 2 [open] ###

  - <<: *default-icmp
    name: Unbound 2 [open] - ICMP
    group: App - Unbound 2 [open]
    url: icmp://unbound-2-open.home

  - <<: *default-dns
    name: Unbound 2 [open] - DNS
    group: App - Unbound 2 [open]
    url: unbound-2-open.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Unbound 2 [open] - HTTP
    group: App - Unbound 2 [open]
    url: http://unbound-2-open.home/.proxy

  - <<: *default-http
    name: Unbound 2 [open] - HTTPS
    group: App - Unbound 2 [open]
    url: https://unbound-2-open.home/.proxy
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Unbound 2 [open] - Proxy prometheus metrics
    group: App - Unbound 2 [open]
    url: https://proxy-prometheus:${UNBOUND_2_OPEN_PROXY_PROMETHEUS_PASSWORD}@unbound-2-open.home/.proxy/metrics

  - <<: *default-tcp
    name: Unbound 2 [open] - TCP:53
    group: App - Unbound 2 [open]
    url: tcp://unbound-2-open.home:53

  - <<: *default-udp
    name: Unbound 2 [open] - UDP:53
    group: App - Unbound 2 [open]
    url: udp://unbound-2-open.home:53

  ### Group: App - Unifi Controller ###

  - <<: *default-icmp
    name: Unifi Controller Admin - ICMP
    group: App - Unifi Controller
    url: icmp://unifi-controller.home

  - <<: *default-http
    name: Unifi Controller Admin - HTTP
    group: App - Unifi Controller
    url: http://unifi-controller.home

  - <<: *default-http
    name: Unifi Controller Admin - HTTPS
    group: App - Unifi Controller
    url: https://unifi-controller.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Unifi Controller Admin - API Health
    group: App - Unifi Controller
    url: https://unifi-controller.home/status
    conditions:
      - "[STATUS] == 200"
      - "[BODY].meta.rc == ok"
      - "[BODY].meta.up == true"

  - <<: *default-http
    name: Unifi Controller Admin - Proxy prometheus metrics
    group: App - Unifi Controller
    url: https://proxy-prometheus:${UNIFI_CONTROLLER_PROXY_PROMETHEUS_PASSWORD}@unifi-controller.home/.proxy/metrics

  - <<: *default-http
    name: Unifi Controller Admin - HTTP (raw)
    group: App - Unifi Controller
    url: http://unifi-controller.home:8080

  - <<: *default-http
    name: Unifi Controller Admin - HTTPS (raw)
    group: App - Unifi Controller
    url: https://unifi-controller.home:8443

  - <<: *default-tcp
    name: Unifi Controller - TCP:80
    group: App - Unifi Controller
    url: tcp://unifi-controller.home:80

  - <<: *default-udp
    name: Unifi Controller - UDP:1900
    group: App - Unifi Controller
    url: udp://unifi-controller.home:1900

  - <<: *default-udp
    name: Unifi Controller - UDP:3478
    group: App - Unifi Controller
    url: udp://unifi-controller.home:3478

  - <<: *default-udp
    name: Unifi Controller - UDP:5514
    group: App - Unifi Controller
    url: udp://unifi-controller.home:5514

  - <<: *default-udp
    name: Unifi Controller - UDP:10001
    group: App - Unifi Controller
    url: udp://unifi-controller.home:10001

  - <<: *default-tcp
    name: Unifi Controller - TCP:8080
    group: App - Unifi Controller
    url: tcp://unifi-controller.home:8080

  - <<: *default-tcp
    name: Unifi Controller - TCP:443
    group: App - Unifi Controller
    url: tcp://unifi-controller.home:443

  - <<: *default-tcp
    name: Unifi Controller - TCP:8443
    group: App - Unifi Controller
    url: tcp://unifi-controller.home:8443

  - <<: *default-tcp
    name: Unifi Controller - TCP:6789
    group: App - Unifi Controller
    url: tcp://unifi-controller.home:6789

  ### Group: App - Vaultwarden ###

  - <<: *default-icmp
    name: Vaultwarden - ICMP
    group: App - Vaultwarden
    url: icmp://vaultwarden.home

  - <<: *default-http
    name: Vaultwarden - HTTP
    group: App - Vaultwarden
    url: http://vaultwarden.home

  - <<: *default-http
    name: Vaultwarden - HTTPS
    group: App - Vaultwarden
    url: https://vaultwarden.home
    alerts:
      - type: ntfy
      - type: email

  - <<: *default-http
    name: Vaultwarden - Proxy prometheus metrics
    group: App - Vaultwarden
    url: https://proxy-prometheus:${VAULTWARDEN_PROXY_PROMETHEUS_PASSWORD}@vaultwarden.home/.proxy/metrics

  - <<: *default-tcp
    name: Vaultwarden - TCP:80
    group: App - Vaultwarden
    url: tcp://vaultwarden.home:80

  - <<: *default-tcp
    name: Vaultwarden - TCP:443
    group: App - Vaultwarden
    url: tcp://vaultwarden.home:443

  ### Group: App - Vikunja ###
  # TODO: Enable Vikunja checks

  - <<: *default-icmp
    name: Vikunja - ICMP
    group: App - Vikunja
    url: icmp://vikunja.home
    enabled: false

  - <<: *default-http
    name: Vikunja - HTTP
    group: App - Vikunja
    url: http://vikunja.home
    enabled: false

  - <<: *default-http
    name: Vikunja - HTTPS
    group: App - Vikunja
    url: https://vikunja.home
    alerts:
      - type: ntfy
      - type: email
    enabled: false

  - <<: *default-http
    name: Vikunja - Proxy prometheus metrics
    group: App - Vikunja
    url: https://proxy-prometheus:${VIKUNJA_PROXY_PROMETHEUS_PASSWORD}@vikunja.home/.proxy/metrics
    enabled: false

  - <<: *default-http
    name: Vikunja - Prometheus metrics
    group: App - Vikunja
    url: https://vikunja.home/api/v1/metrics
    conditions:
      - "[STATUS] == 401"
    enabled: false

  - <<: *default-tcp
    name: Vikunja - TCP:80
    group: App - Vikunja
    url: tcp://vikunja.home:80
    enabled: false

  - <<: *default-tcp
    name: Vikunja - TCP:443
    group: App - Vikunja
    url: tcp://vikunja.home:443
    enabled: false
